<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content=" å‘¨æ—¥çš„æ—¶å€™,çªç„¶æ¶ˆè´¹è€…ç»„å°±å¼€å§‹å †ç§¯äº†,ç„¶åä¸´æ—¶è§£å†³æ–¹æ¡ˆæƒ³ç€é‡æ–°èµ·ä¸€ä¸ªæ¶ˆè´¹è€…ç»„çœ‹çœ‹èƒ½ä¸èƒ½æ¢å¤,ç„¶è€Œå¹¶ä¸èƒ½,æ— å¥ˆä¹‹ä¸‹åªèƒ½è¿å›ä½¿ç”¨redisä½œä¸ºæ¶ˆæ¯ä¸­é—´ä»¶çš„æ–¹å¼,å‘¨ä¸€å†ç»†æŸ¥ä¸€ä¸‹\n1 é‡åˆ°çš„æŠ¥é”™ä»¥åŠç°è±¡ é¦–å…ˆæ˜¯çœ‹çš„æ˜¯Dashboard,å‘ç°ä¸€ä¼šæ¶ˆè´¹è€…ç»„é‡Œè¾¹æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…,ä¸€ä¼šæ²¡æœ‰\nå…¶æ¬¡å°±è¯¥å»çœ‹æ¶ˆè´¹è€…ç»„çš„ä¸šåŠ¡æ—¥å¿—æ‰“å°äº†,è™½ç„¶åœ¨æ¶ˆè´¹,ä½†æ˜¯å¾ˆæ…¢\næ¥ä¸‹æ¥å°±æ˜¯çœ‹äº†æ¶ˆè´¹ç»„çš„RocketMQæ—¥å¿—æ‰“å°,å‘ç°å¼€å§‹æŠ¥é”™åˆ·å±\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 2023-01-08 12:26:45,649 WARN RocketmqClient - execute the pull request exception org.apache.rocketmq.client.exception.MQBrokerException: CODE: 24 DESC: the consumer's group info not exist See http://rocketmq.apache.org/docs/faq/ for further details. BROKER: 192.168.1.58:10911 at org.apache.rocketmq.client.impl.MQClientAPIImpl.processPullResponse(MQClientAPIImpl.java:803) at org.apache.rocketmq.client.impl.MQClientAPIImpl.access$200(MQClientAPIImpl.java:175) at org.apache.rocketmq.client.impl.MQClientAPIImpl$2.operationComplete(MQClientAPIImpl.java:754) at org.apache.rocketmq.remoting.netty.ResponseFuture.executeInvokeCallback(ResponseFuture.java:54) at org.apache.rocketmq.remoting.netty.NettyRemotingAbstract$2.run(NettyRemotingAbstract.java:321) at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) at java.base/java.lang.Thread.run(Thread.java:833) 2023-01-08 12:26:45,649 WARN RocketmqClient - execute the pull request exception org.apache.rocketmq.client.exception.MQBrokerException: CODE: 24 DESC: the consumer's group info not exist See http://rocketmq.apache.org/docs/faq/ for further details. BROKER: 192.168.1.58:10911 at org.apache.rocketmq.client.impl.MQClientAPIImpl.processPullResponse(MQClientAPIImpl.java:803) at org.apache.rocketmq.client.impl.MQClientAPIImpl.access$200(MQClientAPIImpl.java:175) at org.apache.rocketmq.client.impl.MQClientAPIImpl$2.operationComplete(MQClientAPIImpl.java:754) at org.apache.rocketmq.remoting.netty.ResponseFuture.executeInvokeCallback(ResponseFuture.java:54) at org.apache.rocketmq.remoting.netty.NettyRemotingAbstract$2.run(NettyRemotingAbstract.java:321) at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) at java.base/java.lang.Thread.run(Thread.java:833) è¿™ä¸ªæŠ¥é”™å¡å¡åˆ·å±,äºæ˜¯ä¹åªèƒ½å»æ‰¾RocketMQçš„æ¶ˆè´¹è€…clientçš„æºç äº†\n"><title>RocketMQæ¶ˆæ¯è¿‡å¤§å¯¼è‡´æ¶ˆè´¹è€…æ¶ˆè´¹ä¸äº†,å¯¼è‡´æ¶ˆæ¯å †ç§¯</title>
<link rel=canonical href=https://chenchenfang.github.io/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="RocketMQæ¶ˆæ¯è¿‡å¤§å¯¼è‡´æ¶ˆè´¹è€…æ¶ˆè´¹ä¸äº†,å¯¼è‡´æ¶ˆæ¯å †ç§¯"><meta property='og:description' content=" å‘¨æ—¥çš„æ—¶å€™,çªç„¶æ¶ˆè´¹è€…ç»„å°±å¼€å§‹å †ç§¯äº†,ç„¶åä¸´æ—¶è§£å†³æ–¹æ¡ˆæƒ³ç€é‡æ–°èµ·ä¸€ä¸ªæ¶ˆè´¹è€…ç»„çœ‹çœ‹èƒ½ä¸èƒ½æ¢å¤,ç„¶è€Œå¹¶ä¸èƒ½,æ— å¥ˆä¹‹ä¸‹åªèƒ½è¿å›ä½¿ç”¨redisä½œä¸ºæ¶ˆæ¯ä¸­é—´ä»¶çš„æ–¹å¼,å‘¨ä¸€å†ç»†æŸ¥ä¸€ä¸‹\n1 é‡åˆ°çš„æŠ¥é”™ä»¥åŠç°è±¡ é¦–å…ˆæ˜¯çœ‹çš„æ˜¯Dashboard,å‘ç°ä¸€ä¼šæ¶ˆè´¹è€…ç»„é‡Œè¾¹æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…,ä¸€ä¼šæ²¡æœ‰\nå…¶æ¬¡å°±è¯¥å»çœ‹æ¶ˆè´¹è€…ç»„çš„ä¸šåŠ¡æ—¥å¿—æ‰“å°äº†,è™½ç„¶åœ¨æ¶ˆè´¹,ä½†æ˜¯å¾ˆæ…¢\næ¥ä¸‹æ¥å°±æ˜¯çœ‹äº†æ¶ˆè´¹ç»„çš„RocketMQæ—¥å¿—æ‰“å°,å‘ç°å¼€å§‹æŠ¥é”™åˆ·å±\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 2023-01-08 12:26:45,649 WARN RocketmqClient - execute the pull request exception org.apache.rocketmq.client.exception.MQBrokerException: CODE: 24 DESC: the consumer's group info not exist See http://rocketmq.apache.org/docs/faq/ for further details. BROKER: 192.168.1.58:10911 at org.apache.rocketmq.client.impl.MQClientAPIImpl.processPullResponse(MQClientAPIImpl.java:803) at org.apache.rocketmq.client.impl.MQClientAPIImpl.access$200(MQClientAPIImpl.java:175) at org.apache.rocketmq.client.impl.MQClientAPIImpl$2.operationComplete(MQClientAPIImpl.java:754) at org.apache.rocketmq.remoting.netty.ResponseFuture.executeInvokeCallback(ResponseFuture.java:54) at org.apache.rocketmq.remoting.netty.NettyRemotingAbstract$2.run(NettyRemotingAbstract.java:321) at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) at java.base/java.lang.Thread.run(Thread.java:833) 2023-01-08 12:26:45,649 WARN RocketmqClient - execute the pull request exception org.apache.rocketmq.client.exception.MQBrokerException: CODE: 24 DESC: the consumer's group info not exist See http://rocketmq.apache.org/docs/faq/ for further details. BROKER: 192.168.1.58:10911 at org.apache.rocketmq.client.impl.MQClientAPIImpl.processPullResponse(MQClientAPIImpl.java:803) at org.apache.rocketmq.client.impl.MQClientAPIImpl.access$200(MQClientAPIImpl.java:175) at org.apache.rocketmq.client.impl.MQClientAPIImpl$2.operationComplete(MQClientAPIImpl.java:754) at org.apache.rocketmq.remoting.netty.ResponseFuture.executeInvokeCallback(ResponseFuture.java:54) at org.apache.rocketmq.remoting.netty.NettyRemotingAbstract$2.run(NettyRemotingAbstract.java:321) at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) at java.base/java.lang.Thread.run(Thread.java:833) è¿™ä¸ªæŠ¥é”™å¡å¡åˆ·å±,äºæ˜¯ä¹åªèƒ½å»æ‰¾RocketMQçš„æ¶ˆè´¹è€…clientçš„æºç äº†\n"><meta property='og:url' content='https://chenchenfang.github.io/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/'><meta property='og:site_name' content='fang7ä¸ªäººåšå®¢'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2023-01-09T22:49:00+08:00'><meta property='article:modified_time' content='2023-01-09T22:49:00+08:00'><meta name=twitter:title content="RocketMQæ¶ˆæ¯è¿‡å¤§å¯¼è‡´æ¶ˆè´¹è€…æ¶ˆè´¹ä¸äº†,å¯¼è‡´æ¶ˆæ¯å †ç§¯"><meta name=twitter:description content=" å‘¨æ—¥çš„æ—¶å€™,çªç„¶æ¶ˆè´¹è€…ç»„å°±å¼€å§‹å †ç§¯äº†,ç„¶åä¸´æ—¶è§£å†³æ–¹æ¡ˆæƒ³ç€é‡æ–°èµ·ä¸€ä¸ªæ¶ˆè´¹è€…ç»„çœ‹çœ‹èƒ½ä¸èƒ½æ¢å¤,ç„¶è€Œå¹¶ä¸èƒ½,æ— å¥ˆä¹‹ä¸‹åªèƒ½è¿å›ä½¿ç”¨redisä½œä¸ºæ¶ˆæ¯ä¸­é—´ä»¶çš„æ–¹å¼,å‘¨ä¸€å†ç»†æŸ¥ä¸€ä¸‹\n1 é‡åˆ°çš„æŠ¥é”™ä»¥åŠç°è±¡ é¦–å…ˆæ˜¯çœ‹çš„æ˜¯Dashboard,å‘ç°ä¸€ä¼šæ¶ˆè´¹è€…ç»„é‡Œè¾¹æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…,ä¸€ä¼šæ²¡æœ‰\nå…¶æ¬¡å°±è¯¥å»çœ‹æ¶ˆè´¹è€…ç»„çš„ä¸šåŠ¡æ—¥å¿—æ‰“å°äº†,è™½ç„¶åœ¨æ¶ˆè´¹,ä½†æ˜¯å¾ˆæ…¢\næ¥ä¸‹æ¥å°±æ˜¯çœ‹äº†æ¶ˆè´¹ç»„çš„RocketMQæ—¥å¿—æ‰“å°,å‘ç°å¼€å§‹æŠ¥é”™åˆ·å±\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 2023-01-08 12:26:45,649 WARN RocketmqClient - execute the pull request exception org.apache.rocketmq.client.exception.MQBrokerException: CODE: 24 DESC: the consumer's group info not exist See http://rocketmq.apache.org/docs/faq/ for further details. BROKER: 192.168.1.58:10911 at org.apache.rocketmq.client.impl.MQClientAPIImpl.processPullResponse(MQClientAPIImpl.java:803) at org.apache.rocketmq.client.impl.MQClientAPIImpl.access$200(MQClientAPIImpl.java:175) at org.apache.rocketmq.client.impl.MQClientAPIImpl$2.operationComplete(MQClientAPIImpl.java:754) at org.apache.rocketmq.remoting.netty.ResponseFuture.executeInvokeCallback(ResponseFuture.java:54) at org.apache.rocketmq.remoting.netty.NettyRemotingAbstract$2.run(NettyRemotingAbstract.java:321) at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) at java.base/java.lang.Thread.run(Thread.java:833) 2023-01-08 12:26:45,649 WARN RocketmqClient - execute the pull request exception org.apache.rocketmq.client.exception.MQBrokerException: CODE: 24 DESC: the consumer's group info not exist See http://rocketmq.apache.org/docs/faq/ for further details. BROKER: 192.168.1.58:10911 at org.apache.rocketmq.client.impl.MQClientAPIImpl.processPullResponse(MQClientAPIImpl.java:803) at org.apache.rocketmq.client.impl.MQClientAPIImpl.access$200(MQClientAPIImpl.java:175) at org.apache.rocketmq.client.impl.MQClientAPIImpl$2.operationComplete(MQClientAPIImpl.java:754) at org.apache.rocketmq.remoting.netty.ResponseFuture.executeInvokeCallback(ResponseFuture.java:54) at org.apache.rocketmq.remoting.netty.NettyRemotingAbstract$2.run(NettyRemotingAbstract.java:321) at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) at java.base/java.lang.Thread.run(Thread.java:833) è¿™ä¸ªæŠ¥é”™å¡å¡åˆ·å±,äºæ˜¯ä¹åªèƒ½å»æ‰¾RocketMQçš„æ¶ˆè´¹è€…clientçš„æºç äº†\n"><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu9005595318015309411.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥</span></figure><div class=site-meta><h1 class=site-name><a href=/>fang7ä¸ªäººåšå®¢</a></h1><h2 class=site-description>å®ç”¨æŠ€å·§ä¸æŠ€æœ¯è§£å†³æ–¹æ¡ˆåˆ†äº«.</h2></div></header><ol class=menu-social><li><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#1-é‡åˆ°çš„æŠ¥é”™ä»¥åŠç°è±¡>1 é‡åˆ°çš„æŠ¥é”™ä»¥åŠç°è±¡</a></li><li><a href=#2-æºç çš„è¿½è¸ª-2-e6ba90e7a081e79a84e8bfbde8b8aa-tabindex-1>2 æºç çš„è¿½è¸ª {#2-%E6%BA%90%E7%A0%81%E7%9A%84%E8%BF%BD%E8%B8%AA tabindex="-1"}</a><ol><li><a href=#21-æ¶ˆè´¹è€…clientç«¯æºç -21-e6b688e8b4b9e88085cliente7abafe6ba90e7a081-tabindex-1>2.1 æ¶ˆè´¹è€…clientç«¯æºç  {#2.1-%E6%B6%88%E8%B4%B9%E8%80%85client%E7%AB%AF%E6%BA%90%E7%A0%81 tabindex="-1"}</a></li><li><a href=#22-brokerç«¯æºç è¿½è¸ª>2.2 brokerç«¯æºç è¿½è¸ª</a></li></ol></li><li><a href=#3-ç»§ç»­æŸ¥çœ‹å®¢æˆ·ç«¯æ—¥å¿—>3 ç»§ç»­æŸ¥çœ‹å®¢æˆ·ç«¯æ—¥å¿—</a></li><li><a href=#4-æ€»ç»“>4 æ€»ç»“</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/>RocketMQæ¶ˆæ¯è¿‡å¤§å¯¼è‡´æ¶ˆè´¹è€…æ¶ˆè´¹ä¸äº†,å¯¼è‡´æ¶ˆæ¯å †ç§¯</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jan 09, 2023</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>2 minute read</time></div></footer></div></header><section class=article-content><blockquote><p>å‘¨æ—¥çš„æ—¶å€™,çªç„¶æ¶ˆè´¹è€…ç»„å°±å¼€å§‹å †ç§¯äº†,ç„¶åä¸´æ—¶è§£å†³æ–¹æ¡ˆæƒ³ç€é‡æ–°èµ·ä¸€ä¸ªæ¶ˆè´¹è€…ç»„çœ‹çœ‹èƒ½ä¸èƒ½æ¢å¤,ç„¶è€Œå¹¶ä¸èƒ½,æ— å¥ˆä¹‹ä¸‹åªèƒ½è¿å›ä½¿ç”¨redisä½œä¸ºæ¶ˆæ¯ä¸­é—´ä»¶çš„æ–¹å¼,å‘¨ä¸€å†ç»†æŸ¥ä¸€ä¸‹</p></blockquote><h2 id=1-é‡åˆ°çš„æŠ¥é”™ä»¥åŠç°è±¡>1 é‡åˆ°çš„æŠ¥é”™ä»¥åŠç°è±¡</h2><p>é¦–å…ˆæ˜¯çœ‹çš„æ˜¯Dashboard,å‘ç°ä¸€ä¼šæ¶ˆè´¹è€…ç»„é‡Œè¾¹æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…,ä¸€ä¼šæ²¡æœ‰<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/867497dc6749769319ea72912069a26fdc708319.png width=2880 height=1006 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/867497dc6749769319ea72912069a26fdc708319_hu9628158653300238125.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/867497dc6749769319ea72912069a26fdc708319_hu14801474781434775362.png 1024w" loading=lazy alt=image class=gallery-image data-flex-grow=286 data-flex-basis=687px>
å…¶æ¬¡å°±è¯¥å»çœ‹æ¶ˆè´¹è€…ç»„çš„ä¸šåŠ¡æ—¥å¿—æ‰“å°äº†,è™½ç„¶åœ¨æ¶ˆè´¹,ä½†æ˜¯å¾ˆæ…¢<br>æ¥ä¸‹æ¥å°±æ˜¯çœ‹äº†æ¶ˆè´¹ç»„çš„RocketMQæ—¥å¿—æ‰“å°,å‘ç°å¼€å§‹æŠ¥é”™åˆ·å±</p><div class="highlight hljs language-php"><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>2023-01-08 12:26:45,649 WARN RocketmqClient - execute the pull request exception
</span></span><span class=line><span class=cl>org.apache.rocketmq.client.exception.MQBrokerException: CODE: 24  DESC: the consumer&#39;s group info not exist
</span></span><span class=line><span class=cl>See http://rocketmq.apache.org/docs/faq/ for further details. BROKER: 192.168.1.58:10911
</span></span><span class=line><span class=cl>        at org.apache.rocketmq.client.impl.MQClientAPIImpl.processPullResponse(MQClientAPIImpl.java:803)
</span></span><span class=line><span class=cl>        at org.apache.rocketmq.client.impl.MQClientAPIImpl.access$200(MQClientAPIImpl.java:175)
</span></span><span class=line><span class=cl>        at org.apache.rocketmq.client.impl.MQClientAPIImpl$2.operationComplete(MQClientAPIImpl.java:754)
</span></span><span class=line><span class=cl>        at org.apache.rocketmq.remoting.netty.ResponseFuture.executeInvokeCallback(ResponseFuture.java:54)
</span></span><span class=line><span class=cl>        at org.apache.rocketmq.remoting.netty.NettyRemotingAbstract$2.run(NettyRemotingAbstract.java:321)
</span></span><span class=line><span class=cl>        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
</span></span><span class=line><span class=cl>        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
</span></span><span class=line><span class=cl>        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
</span></span><span class=line><span class=cl>        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
</span></span><span class=line><span class=cl>        at java.base/java.lang.Thread.run(Thread.java:833)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>2023-01-08 12:26:45,649 WARN RocketmqClient - execute the pull request exception
</span></span><span class=line><span class=cl>org.apache.rocketmq.client.exception.MQBrokerException: CODE: 24  DESC: the consumer&#39;s group info not exist
</span></span><span class=line><span class=cl>See http://rocketmq.apache.org/docs/faq/ for further details. BROKER: 192.168.1.58:10911
</span></span><span class=line><span class=cl>        at org.apache.rocketmq.client.impl.MQClientAPIImpl.processPullResponse(MQClientAPIImpl.java:803)
</span></span><span class=line><span class=cl>        at org.apache.rocketmq.client.impl.MQClientAPIImpl.access$200(MQClientAPIImpl.java:175)
</span></span><span class=line><span class=cl>        at org.apache.rocketmq.client.impl.MQClientAPIImpl$2.operationComplete(MQClientAPIImpl.java:754)
</span></span><span class=line><span class=cl>        at org.apache.rocketmq.remoting.netty.ResponseFuture.executeInvokeCallback(ResponseFuture.java:54)
</span></span><span class=line><span class=cl>        at org.apache.rocketmq.remoting.netty.NettyRemotingAbstract$2.run(NettyRemotingAbstract.java:321)
</span></span><span class=line><span class=cl>        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
</span></span><span class=line><span class=cl>        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
</span></span><span class=line><span class=cl>        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
</span></span><span class=line><span class=cl>        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
</span></span><span class=line><span class=cl>        at java.base/java.lang.Thread.run(Thread.java:833)
</span></span></code></pre></td></tr></table></div></div><p>è¿™ä¸ªæŠ¥é”™å¡å¡åˆ·å±,äºæ˜¯ä¹åªèƒ½å»æ‰¾RocketMQçš„æ¶ˆè´¹è€…clientçš„æºç äº†</p><h2 id=2-æºç çš„è¿½è¸ª-2-e6ba90e7a081e79a84e8bfbde8b8aa-tabindex-1>2 æºç çš„è¿½è¸ª {#2-%E6%BA%90%E7%A0%81%E7%9A%84%E8%BF%BD%E8%B8%AA tabindex="-1"}</h2><h3 id=21-æ¶ˆè´¹è€…clientç«¯æºç -21-e6b688e8b4b9e88085cliente7abafe6ba90e7a081-tabindex-1>2.1 æ¶ˆè´¹è€…clientç«¯æºç  {#2.1-%E6%B6%88%E8%B4%B9%E8%80%85client%E7%AB%AF%E6%BA%90%E7%A0%81 tabindex="-1"}</h3><p><code>org.apache.rocketmq.client.impl.MQClientAPIImpl.processPullResponse(MQClientAPIImpl.java:803)</code>{.language-plaintext
.highlighter-rouge}ä¹Ÿå°±æ˜¯è¿™ä¸€è¡Œ<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/883f4989e9d65f9cff08cb65b9188eec6d1b8872.png width=2216 height=1442 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/883f4989e9d65f9cff08cb65b9188eec6d1b8872_hu13785655353019703369.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/883f4989e9d65f9cff08cb65b9188eec6d1b8872_hu8930810229303232668.png 1024w" loading=lazy alt=image-1673275379445 class=gallery-image data-flex-grow=153 data-flex-basis=368px>
è¿™çœ‹ç€åº”è¯¥æ˜¯ä»brokerç«¯æ‹‰å›æ¥çš„æ•°æ®æœ‰é—®é¢˜,ä¸æ˜¯æ­£å¸¸èƒ½æ¶ˆè´¹çš„æ•°æ®,é‚£å°±å†å¾€ä¸Šå±‚çœ‹çœ‹<code>RemotingCommand response</code>{.language-plaintext
.highlighter-rouge}è¿™ä¸ªå¯¹è±¡æ˜¯æ€ä¹ˆæ¥çš„å§<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/25c431a6376af2b6b48ce6a9a238d4ab031ab8cc.png width=2264 height=1298 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/25c431a6376af2b6b48ce6a9a238d4ab031ab8cc_hu3687956243712694590.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/25c431a6376af2b6b48ce6a9a238d4ab031ab8cc_hu6658444824019031925.png 1024w" loading=lazy alt=image-1673275399471 class=gallery-image data-flex-grow=174 data-flex-basis=418px>
å†å¾€ä¸Šä¸€æ­¥ç‚¹çš„è¯,ä¼šçœ‹åˆ°æœ‰ä¸¤ä¸ªåœ°æ–¹ä¸€ä¸ªæ˜¯åŒæ­¥ä¸€ä¸ªæ˜¯å¼‚æ­¥,é‚£çœ‹çš„è¯è‡ªç„¶æ˜¯çœ‹åŒæ­¥,æ¯•ç«ŸåŒæ­¥ä»£ç æ›´ç®€å•æ˜äº†ä¸€äº›,æœ€ç»ˆçš„åŠŸèƒ½è‚¯å®šæ˜¯ä¸€æ ·çš„,å› ä¸ºä¹‹å‰å­¦äº†å­¦nettyä»¥åŠçŸ¥é“RocketMQæ˜¯ä½¿ç”¨Nettyé€šä¿¡çš„,æ‰€ä»¥çœ‹è¿™ä¸ªæ–¹æ³•åå­—<code>this.remotingClient.invokeSync</code>{.language-plaintext
.highlighter-rouge}å¤§æ¦‚èƒ½çŒœå‡ºæ¥å®ƒæ˜¯å’Œbrokerç«¯è¿›è¡Œé€šä¿¡ç„¶åè·å–åˆ°è¦æ¶ˆè´¹çš„æ¶ˆæ¯,é‚£ä¹ˆæ¥ç€ç‚¹è¿›å»<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/f79dfabc78ccb47e7fac8c4e139fa89c90fa67cc.png width=2880 height=1630 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/f79dfabc78ccb47e7fac8c4e139fa89c90fa67cc_hu6686999831632058954.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/f79dfabc78ccb47e7fac8c4e139fa89c90fa67cc_hu10959416260250303050.png 1024w" loading=lazy alt=image-1673275489367 class=gallery-image data-flex-grow=176 data-flex-basis=424px>
å¯ä»¥çœ‹åˆ°<code>response</code>{.language-plaintext
.highlighter-rouge}å¯¹è±¡æ˜¯ä»è¿™ä¸ªæ–¹æ³•<code>invokeSyncImpl</code>{.language-plaintext
.highlighter-rouge}è¿”å›å‡ºæ¥çš„,é‚£å°±å†è¿›å»çœ‹çœ‹<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/06ea476476c01919bd51253362a58fa17fb09926.png width=2880 height=1630 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/06ea476476c01919bd51253362a58fa17fb09926_hu2243804697466477512.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/06ea476476c01919bd51253362a58fa17fb09926_hu2662881452436921879.png 1024w" loading=lazy alt=image-1673317661463 class=gallery-image data-flex-grow=176 data-flex-basis=424px>
ä»è¿™é‡Œçœ‹çš„è¯,å¹¶æ²¡æœ‰å¯¹è¿™ä¸ªå¯¹è±¡åšç‰¹æ®Šçš„å¤„ç†,è¿™ä¸ªæ—¶å€™ä¸€å®šæœ‰äººæœ‰ç–‘é—®,ä¸ºä»€ä¹ˆä»–å°±æ˜¯èƒ½æ­£å¸¸è¿”å›å‘¢,é‡Œè¾¹è¿˜æœ‰è¿™ä¹ˆå¤šçš„if,å› ä¸ºæ ¹æ®<code>CODE: 24 DESC: the consumer's group info not exist</code>{.language-plaintext
.highlighter-rouge}<br>è¿™ä¸ªæŠ¥é”™å°±èƒ½çœ‹å‡ºæ¥,<code>response</code>å¯¹è±¡ä¸€å®šæ˜¯æœ‰çš„,å¹¶ä¸”é¡ºåˆ©å°è£…äº†,è¦ä¸ç„¶ä¸å¯èƒ½æœ‰è¿™ä¸ªæŠ¥é”™æ‰“å°,<br>æ¶ˆè´¹è€…clientçš„æºç ç®—æ˜¯çœ‹å®Œäº†,å¹¶æ²¡æœ‰å‘ç°æœ‰ä»€ä¹ˆé—®é¢˜,è€Œè¿™ä¸ªæŠ¥é”™æ˜¯brokerç«¯è¿”å›ç»™æ¶ˆè´¹è€…clientçš„,é‚£å°±å»æœæœbrokerçš„æºç é‡Œå“ªé‡Œæœ‰è¿™ä¸ªæŠ¥é”™å§</p><h3 id=22-brokerç«¯æºç è¿½è¸ª>2.2 brokerç«¯æºç è¿½è¸ª</h3><p>é¦–å…ˆæœäº†ä¸€ä¸‹è¿™ä¸ªæŠ¥é”™çš„å†…å®¹,<code>org.apache.rocketmq.broker.processor.PullMessageProcessor#processRequest(io.netty.channel.Channel, org.apache.rocketmq.remoting.protocol.RemotingCommand, boolean)</code>{.language-plaintext
.highlighter-rouge}åœ¨è¿™ä¸ªæ–¹æ³•çš„ 178è¡Œ<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/25a834145650485b2393c99963f3983931af3b13.png width=2880 height=1630 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/25a834145650485b2393c99963f3983931af3b13_hu1324290859378508850.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/25a834145650485b2393c99963f3983931af3b13_hu14472381319359874258.png 1024w" loading=lazy alt=image-1673275550621 class=gallery-image data-flex-grow=176 data-flex-basis=424px>
é‚£è¿™é‡Œå°±æ˜¯<code>this.brokerController.getConsumerManager().getConsumerGroupInfo(requestHeader.getConsumerGroup());</code>{.language-plaintext
.highlighter-rouge}è¿”å›çš„ç»“æœä¸ºnull,ç‚¹è¿›å»çœ‹çœ‹<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/d3cd0a831e0359dc21ec60543f2ed42f7a7a4a50.png width=1704 height=932 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/d3cd0a831e0359dc21ec60543f2ed42f7a7a4a50_hu16869095937985464813.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/d3cd0a831e0359dc21ec60543f2ed42f7a7a4a50_hu18310070060053239448.png 1024w" loading=lazy alt=image-1673275560552 class=gallery-image data-flex-grow=182 data-flex-basis=438px>
å‘ç°æ˜¯è¿™ä¸ª<code>consumerTable</code>{.language-plaintext
.highlighter-rouge}å–å‡ºæ¥ä¸ºnull</p><div class="highlight hljs language-swift"><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>private final ConcurrentMap&lt;String/* Group */, ConsumerGroupInfo&gt; consumerTable =  
</span></span><span class=line><span class=cl>    new ConcurrentHashMap&lt;String, ConsumerGroupInfo&gt;(1024);
</span></span></code></pre></td></tr></table></div></div><p>è¿™ä¸ªå¯¹è±¡æ˜¯ä¸€ä¸ªConcurrentMap,é‚£å¦‚æœå–å‡ºæ¥ä¸ºnullçš„è¯,è‚¯å®šæ˜¯æ²¡æœ‰è¿™ä¸ªkey,ä¹Ÿå°±æ˜¯æ²¡æœ‰è¿™ä¸ªæ¶ˆè´¹è€…ç»„çš„ä¿¡æ¯,æˆ‘æ˜æ˜å¯åŠ¨äº†æ¶ˆè´¹è€…ç»„æ€ä¹ˆå¯èƒ½æ²¡æœ‰å‘¢,é‚£è‚¯å®šæ˜¯åœ¨å“ªä¸ªåœ°æ–¹ç»™removeæ‰äº†,æ¥ä¸‹æ¥æŸ¥ä¸€ä¸‹è°ƒç”¨removeçš„æ–¹æ³•éƒ½åœ¨å“ªé‡Œ</p><div class="highlight hljs language-php"><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>org.apache.rocketmq.broker.client.ConsumerManager#doChannelCloseEvent
</span></span><span class=line><span class=cl>org.apache.rocketmq.broker.client.ConsumerManager#unregisterConsumer
</span></span></code></pre></td></tr></table></div></div><p>å°±æ˜¯è¿™ä¸¤ä¸ªæ–¹æ³•çš„é€»è¾‘é‡Œæœ‰removeæ–¹æ³•<br>æŸ¥åˆ°è¿™é‡Œæˆ‘æ„Ÿè§‰éœ€è¦çœ‹ä¸€ä¸‹brokerç«¯çš„æ—¥å¿—äº†<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/28f6464de4902ef5c72df2f4ba75079cf183ddfb.png width=1700 height=730 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/28f6464de4902ef5c72df2f4ba75079cf183ddfb_hu8519575820523416503.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/28f6464de4902ef5c72df2f4ba75079cf183ddfb_hu1184291470286752077.png 1024w" loading=lazy alt=image-1673275579595 class=gallery-image data-flex-grow=232 data-flex-basis=558px>
è¿™ä¹ˆå¤šæ—¥å¿—,ä»ä½•çœ‹èµ·å‘¢,å…ˆæŒ‘ç€æ—¥å¿—å¤šçš„çœ‹å§,æ¯•ç«Ÿå¡å¡åˆ·å±,è‚¯å®šæ—¥å¿—é‡å¤§,æ–‡ä»¶ä¹Ÿä¸å°<br>è¿™é‡Œçš„æˆªå›¾åº”è¯¥æ˜¯å·²ç»å½’æ¡£è¿‡äº†çš„,ç°åœ¨broker.logæ‰16M,è®°å¾—å‡ºé—®é¢˜çš„æ—¶å€™100å¤šM<br>å…ˆçœ‹<code>broker.log</code>{.language-plaintext .highlighter-rouge}å§<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/436e3f0d493633e9a3d51b7bae183ca35178bfd7.png width=1700 height=1274 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/436e3f0d493633e9a3d51b7bae183ca35178bfd7_hu13359182595933127471.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/436e3f0d493633e9a3d51b7bae183ca35178bfd7_hu7612249787065748031.png 1024w" loading=lazy alt=image-1673275588102 class=gallery-image data-flex-grow=133 data-flex-basis=320px>
æˆ‘ä»èŒ«èŒ«çš„æ‰“å°æ—¥å¿—ä¸­æ‰¾åˆ°äº†è¿™ä¸ª<br>çœ‹ç€å¤§æ¦‚å°±æ˜¯è¯´æ–°åˆ›å»ºäº†ä¸€ä¸ªæ¶ˆè´¹è€…ç»„ä¿¡æ¯,ç„¶åç›´æ¥å°±è¢«åˆ æ‰äº†<br>åªæœ‰<code>NETTY EVENT: remove not active channel</code>{.language-plaintext
.highlighter-rouge}è¿™ä¸ªæ˜¯WARN,å…ˆæŸ¥æŸ¥è¿™ä¸ªåœ¨å“ªé‡ŒæŠ¥çš„å§<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/acec26f1862b6470daf63481884bd8cedc520846.png width=2880 height=1630 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/acec26f1862b6470daf63481884bd8cedc520846_hu5325689150893750266.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/acec26f1862b6470daf63481884bd8cedc520846_hu1914047135093342266.png 1024w" loading=lazy alt=image-1673275598072 class=gallery-image data-flex-grow=176 data-flex-basis=424px>
æ­£å¥½åœ¨<code>org.apache.rocketmq.broker.client.ConsumerManager#doChannelCloseEvent</code>{.language-plaintext
.highlighter-rouge}<br>ç›´æ¥æŠŠ<code>org.apache.rocketmq.broker.client.ConsumerManager#unregisterConsumer</code>{.language-plaintext
.highlighter-rouge}è¿™ä¸ªæ’é™¤äº†<br>é‚£ä¹ˆè¿™ä¸ªæ–¹æ³•çš„ä¸Šä¸€å±‚å°±æ˜¯<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/12383f9abe4b7c55a16875f7a9cc41fcffdaf0be.png width=2880 height=1540 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/12383f9abe4b7c55a16875f7a9cc41fcffdaf0be_hu15050229149193300450.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/12383f9abe4b7c55a16875f7a9cc41fcffdaf0be_hu13505675502683830459.png 1024w" loading=lazy alt=image-1673275615179 class=gallery-image data-flex-grow=187 data-flex-basis=448px>
<img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/1a187f5039ebc5252bf4186874e6cb2a0f777df8.png width=2880 height=1630 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/1a187f5039ebc5252bf4186874e6cb2a0f777df8_hu7629140528927564519.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/1a187f5039ebc5252bf4186874e6cb2a0f777df8_hu13800691455023831999.png 1024w" loading=lazy alt=image-1673317524836 class=gallery-image data-flex-grow=176 data-flex-basis=424px>
è¿™äº›æ–¹æ³•éƒ½æ˜¯åœ¨ä¸€ä¸ªrun()æ–¹æ³•é‡Œè¾¹è·‘çš„<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/bfc8a9df5cb6217779984ae3eb2bd98c2cf7a825.png width=2880 height=1630 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/bfc8a9df5cb6217779984ae3eb2bd98c2cf7a825_hu862260957902173033.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/bfc8a9df5cb6217779984ae3eb2bd98c2cf7a825_hu11979201426847824021.png 1024w" loading=lazy alt=image-1673317579342 class=gallery-image data-flex-grow=176 data-flex-basis=424px>
çœ‹çš„å‡ºæ¥<code>this.eventQueue</code>{.language-plaintext
.highlighter-rouge}è¿™ä¸ªæ˜¯å­˜æ”¾NettyEventçš„åœ°æ–¹,è€Œè¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ˜¯ä»è¿™é‡Œè°ƒç”¨çš„<br>é‚£å°±çœ‹ä»€ä¹ˆåœ°æ–¹ä¼šæŠŠNettyEventæ”¾åˆ°eventQueueä¸­<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/07ef0c64f82bf055ddddb1cf1fa848789dc814a0.png width=2880 height=1630 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/07ef0c64f82bf055ddddb1cf1fa848789dc814a0_hu4560386478078590610.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/07ef0c64f82bf055ddddb1cf1fa848789dc814a0_hu12464421191424880652.png 1024w" loading=lazy alt=image-1673275637210 class=gallery-image data-flex-grow=176 data-flex-basis=424px>
æœä¸€ä¸‹åªæœ‰è¿™ä¸ªç±»ä¸­çš„<code>putNettyEvent</code>{.language-plaintext
.highlighter-rouge}æ–¹æ³•æ‰ä¼šadd<br>é‚£å†çœ‹çœ‹è¿™ä¸ªæ–¹æ³•æ˜¯ä»å“ªé‡Œè°ƒç”¨çš„å§<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/1034965014df54e2102ffb246a483c9cc5305996.png width=2880 height=796 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/1034965014df54e2102ffb246a483c9cc5305996_hu13337304919166140261.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/1034965014df54e2102ffb246a483c9cc5305996_hu12222658445360127312.png 1024w" loading=lazy alt=image-1673275644911 class=gallery-image data-flex-grow=361 data-flex-basis=868px>
ä¸€å…±æœ‰è¿™ä¹ˆå¤šåœ°æ–¹è°ƒç”¨,æƒ³æ¥å’±ä»¬çœ‹çš„æ˜¯brokerçš„ä»£ç ,é‚£è‚¯å®šæ˜¯serverå§,é‚£å°±é”å®šåœ¨è¿™å››ä¸ªäº†<br>é‚£ä¹Ÿå¯ä»¥çœ‹åˆ°ç¬¬ä¸€ä¸ªtypeç±»å‹æ˜¯<code>CONNECT</code>{.language-plaintext
.highlighter-rouge}ç›´æ¥æ’é™¤,å‰©ä¸‹çš„ä¸‰ä¸ª,<br>åˆ†åˆ«éƒ½ç‚¹è¿›å»çœ‹çœ‹,ä¼šå‘ç°è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½ä¼´éšç€æ—¥å¿—æ‰“å°<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/1ae6af7c6736ee44c7f2df54533d45e8423f8d33.png width=2248 height=546 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/1ae6af7c6736ee44c7f2df54533d45e8423f8d33_hu5154438110837722469.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/1ae6af7c6736ee44c7f2df54533d45e8423f8d33_hu7773358236729183257.png 1024w" loading=lazy alt=image-1673275651482 class=gallery-image data-flex-grow=411 data-flex-basis=988px>
é‚£å’±ä»¬å°±å»çœ‹çœ‹æ—¥å¿—æ‰“å°,ç„¶åå®šä½å‡ºæ¥å…·ä½“æ˜¯å“ªç§äº‹ä»¶å¯¼è‡´äº†åˆ é™¤æˆ‘çš„æ¶ˆè´¹è€…ç»„ä¿¡æ¯<br>è¿™é‡Œå°±æœ‰ä¸ªé—®é¢˜,serverç«¯é‚£ä¹ˆå¤šæ—¥å¿—æ–‡ä»¶åº”è¯¥çœ‹å“ªä¸ªå“‡?<br>æˆ‘æƒ³åˆ°äº†çœ‹ä¸‹è¿™ä¸ªä»£ç æ˜¯åœ¨å“ªä¸ªåŒ…ä¸‹<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/0a52c9b14c2f27cb369fa14be28235f23254d92b.png width=2880 height=1630 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/0a52c9b14c2f27cb369fa14be28235f23254d92b_hu16689087682121658870.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/0a52c9b14c2f27cb369fa14be28235f23254d92b_hu3046792840020756010.png 1024w" loading=lazy alt=image-1673275657915 class=gallery-image data-flex-grow=176 data-flex-basis=424px>
å¯ä»¥çœ‹åˆ°æ˜¯remoting,é‚£å°±çœ‹å¯¹åº”åå­—çš„log,æ­¤æ—¶æ‰“å¼€æ¶ˆè´¹è€…,è§‚å¯Ÿæ—¥å¿—<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/1489559b99e23e383d9e933a1f788625788e54ae.png width=1700 height=1192 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/1489559b99e23e383d9e933a1f788625788e54ae_hu10114324260063368544.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/1489559b99e23e383d9e933a1f788625788e54ae_hu11857582257886783192.png 1024w" loading=lazy alt=image-1673275665371 class=gallery-image data-flex-grow=142 data-flex-basis=342px>
å¯ä»¥çœ‹åˆ°Activeä¹‹å,ç›´æ¥Inactive,é‚£è‚¯å®šæ˜¯è¿™ä¸ªäº‹ä»¶å¯¼è‡´çš„<br>æ¥ä¸‹æ¥æœè¿™ä¸ªæ—¥å¿—æ‰“å°,ç„¶åå°±ä¼šå‘ç°æ˜¯è§¦å‘äº†CLOSEäº‹ä»¶<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/3f5fe3828f4d0c7b3d0a921faad1efc8d4145bd4.png width=2880 height=1630 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/3f5fe3828f4d0c7b3d0a921faad1efc8d4145bd4_hu16208914043498295927.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/3f5fe3828f4d0c7b3d0a921faad1efc8d4145bd4_hu15308443875016328632.png 1024w" loading=lazy alt=image-1673275671584 class=gallery-image data-flex-grow=176 data-flex-basis=424px>
çœ‹åˆ°è¿™é‡Œå°±æœ‰ç‚¹æ‡µäº†,é¦–å…ˆæ˜¯CLOSEäº‹ä»¶,è¿™å°±è¯´æ˜æ˜¯æ­£å¸¸å…³é—­,æ˜¯å› ä¸ºå®¢æˆ·ç«¯ä¸æ´»è·ƒå¯¼è‡´çš„,é‚£æ€ä¹ˆæƒ³éƒ½æ˜¯å®¢æˆ·ç«¯æœ‰é—®é¢˜å“‡</p><h2 id=3-ç»§ç»­æŸ¥çœ‹å®¢æˆ·ç«¯æ—¥å¿—>3 ç»§ç»­æŸ¥çœ‹å®¢æˆ·ç«¯æ—¥å¿—</h2><p>å…œå…œè½¬è½¬ä¸€åœˆ,åˆå›åˆ°äº†å®¢æˆ·ç«¯æ—¥å¿—,å› ä¸ºä¹‹å‰åˆ·å±çš„éƒ½æ˜¯<code>CODE: 24 DESC: the consumer's group info not exist</code>{.language-plaintext
.highlighter-rouge},ä½†æ˜¯è¿™ä¸ªæ˜¯WARNç±»å‹çš„æ—¥å¿—,æˆ‘çªå‘å¥‡æƒ³,æœæœERRORçœ‹çœ‹,æœç„¶æ‰¾åˆ°äº†çœŸæ­£çš„é—®é¢˜<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/9992a2ab8a6898817fb2aac81d79fd346f5bf18e.png width=1700 height=1196 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/9992a2ab8a6898817fb2aac81d79fd346f5bf18e_hu5251198684402432423.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/9992a2ab8a6898817fb2aac81d79fd346f5bf18e_hu21342142495373064.png 1024w" loading=lazy alt=image-1673275683289 class=gallery-image data-flex-grow=142 data-flex-basis=341px>
è¿™ä¸ªä¸œè¥¿ç†Ÿå•Š,è¿™ä¸ªæ˜¯Nettyçš„ä¸€ä¸ªè§£ç ç±»,å¦‚æœæ¶ˆæ¯å¤ªé•¿çš„è¯ä¼šæŠ¥é”™,é‚£è¿™ä¸ªæƒ³æ¥åº”è¯¥æ˜¯æ¶ˆæ¯å¤ªé•¿,ä½†æ˜¯æˆ‘çš„æ¶ˆæ¯è‚¯å®šä¸ä¼šè¶…è¿‡1Må“‡,é€šè¿‡å †æ ˆå¯ä»¥çœ‹åˆ°æ˜¯<code>org.apache.rocketmq.remoting.netty.NettyDecoder.decode</code>è¿™é‡ŒæŠ¥é”™çš„,<br><img src=/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/5f3fa88d6cab4643de2c2f58584dc352dd618df2.png width=2880 height=1630 srcset="/p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/5f3fa88d6cab4643de2c2f58584dc352dd618df2_hu515172839035203593.png 480w, /p/rocketmq%E6%B6%88%E6%81%AF%E8%BF%87%E5%A4%A7%E5%AF%BC%E8%87%B4%E6%B6%88%E8%B4%B9%E8%80%85%E6%B6%88%E8%B4%B9%E4%B8%8D%E4%BA%86%E5%AF%BC%E8%87%B4%E6%B6%88%E6%81%AF%E5%A0%86%E7%A7%AF/5f3fa88d6cab4643de2c2f58584dc352dd618df2_hu1917196237831815075.png 1024w" loading=lazy alt=image-1673317738849 class=gallery-image data-flex-grow=176 data-flex-basis=424px>
æŠ¥é”™çš„æ˜¯42è¡Œ,é‚£è¿™ä¸ªå°±æ˜¯è¯´å½“å‰æ¶ˆæ¯å¤ªå¤§äº†,è§£ç å‡ºäº†é—®é¢˜,æˆ‘çŒœæƒ³æ˜¯æŠŠå¤šä¸ªæ¶ˆæ¯åŒ…è£…æˆä¸€ä¸ªå¤§çš„æ¶ˆæ¯,ç„¶åæ¶ˆè´¹è€…clientåœ¨è¿›è¡Œè§£åŒ…å¤„ç†,å› ä¸ºæˆ‘çš„æ¶ˆæ¯å¯èƒ½å­˜æ‰æ¥è¿‘1Mçš„,ç„¶åæˆ‘ä¸€æ¬¡è·å–100ä¸ªæ¶ˆæ¯,è¿™æ ·åˆå¹¶çš„è¯è‚¯å®šä¼šè¶…è¿‡è¿™ä¸ª<code>16777216</code>
äºæ˜¯æˆ‘åœ¨æ¶ˆè´¹è€…å¯åŠ¨ä¸Šå¢åŠ -Dcom.rocketmq.remoting.frameMaxLength=167772160,å¢åŠ 10å€çœ‹çœ‹,é‡æ–°å¯åŠ¨å‘ç°æœ‰æ•ˆæœ,æ¯”ä¹‹å‰å¥½ç‚¹äº†,èµ·ç ä¸æ˜¯åˆ·å±æŠ¥é”™äº†,ä½†æ˜¯è¿˜æ˜¯ä¸æ­£å¸¸,å¶å°”è¿˜æ˜¯æœ‰åˆ·å±,Dashboardä¸Šä¹Ÿæ˜¯ä¸€ä¼šæœ‰æ¶ˆè´¹è€…ä¸€ä¼šæ²¡æœ‰,è¿™æ ·å­è¿˜æ˜¯ä¸æ­£å¸¸,é‚£è¿™æ ·å­çš„è¯åªèƒ½æŠŠä¸€æ¬¡è·å–æ¶ˆæ¯çš„ä¸ªæ•°å‡å°‘äº†,äºæ˜¯æˆ‘å‡å°‘åˆ°äº†10,ä¹Ÿå°±æ˜¯è¿™ä¸ªå‚æ•°<code>consumer.pullBatchSize = 10</code>
åˆ°è¿™é‡Œè¿™ä¸ªæŠ¥é”™æ€»ç®—æ˜¯æ²¡æœ‰äº†,ä»¥æˆ‘ç›®å‰çš„æŠ€æœ¯æ°´å¹³,ç®—æ˜¯è§£å†³äº†é—®é¢˜,ä½†æ˜¯è¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°é—®é¢˜å‡ºåœ¨å“ªé‡Œ<br><code>RemotingUtil.closeChannel(ctx.channel());</code>å…¶ä¸­æŠ¥é”™ä¹‹åä¼šè°ƒç”¨è¿™ä¸ªå…³é—­channel,ä¼°è®¡æ˜¯å› ä¸ºè¿™ä¸ª,å…·ä½“ä¹‹åå†å­¦ä¹ å­¦ä¹ å§.</p><h2 id=4-æ€»ç»“>4 æ€»ç»“</h2><p>é€šè¿‡è¿™æ¬¡çš„æºç è·Ÿè¸ªæŸ¥é—®é¢˜,ä½“ä¼šåˆ°äº†RocketMQçš„æ¶ˆæ¯çœŸçš„ä¸èƒ½å¤ªå¤§,ä¸ç„¶ä¼šå‡ºç°å„ç§å„æ ·å¥‡æ€ªçš„é—®é¢˜,ä½†æ˜¯æˆ‘ä»¬ä¸šåŠ¡é‚£è¾¹çš„æ¶ˆæ¯å¦‚æœæŒ‰ä¸€ä¸ªä¸€ä¸ªå‘é€é‚£çœŸçš„æ˜¯å¤ªå¤šäº†,åªèƒ½æ˜¯ä¸šåŠ¡é‚£è¾¹åˆå¹¶æˆä¸€ä¸ªæ¶ˆæ¯,ç„¶åå†æ‰¹é‡å‘åˆ°MQ,è¿™å°±å¯¼è‡´äº†å•ä¸ªæ¶ˆæ¯å¯èƒ½æ¥è¿‘1M,åŒæ—¶æ¶ˆè´¹è€…çš„è¯ä¸€æ¬¡æ‹‰å–æ¶ˆæ¯ä¹Ÿä¸èƒ½å¤ªå¤š&mldr;æ¯•ç«Ÿå¤ªå¤šä¹Ÿå¤„ç†ä¸è¿‡æ¥,ç´¢æ€§å‡ä½ä¸€ä¸‹é€Ÿåº¦,ä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„,é—®é¢˜è§£å†³äº†,æ¥ä¸‹æ¥å°±æ˜¯æŠŠç”Ÿäº§çš„ä¸œè¥¿å¾€MQä¸­è¿ç§»äº†,å¸Œæœ›ä¸ä¼šå†æœ‰é—®é¢˜&mldr;</p></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 fang7ä¸ªäººåšå®¢</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>